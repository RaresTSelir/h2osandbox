<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H2O - Sella.it</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .last-updated {
            position: fixed;
            top: 10px;
            right: 10px;
            background: #28a745;
            color: white;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 12px;
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .last-updated.updating {
            background: #ffc107;
            color: #000;
        }
        
        /* Legacy HTML to CSS conversions */
        table[border] { border-collapse: collapse; }
        table[border="1"] { border: 1px solid #ddd; }
        table[cellspacing="0"] td, table[cellspacing="0"] th { border-spacing: 0; }
        table[cellpadding] td, table[cellpadding] th { padding: 4px; }
        
        /* Form styling */
        input[type="text"], input[type="password"], select, textarea {
            border: 1px solid #ddd;
            padding: 4px;
            border-radius: 2px;
        }
        
        input[type="submit"], input[type="button"] {
            background: #007bff;
            color: white;
            border: 1px solid #007bff;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
        }
        
        input[type="submit"]:hover, input[type="button"]:hover {
            background: #0056b3;
        }
    </style>
</head>
<body>
    <div class="last-updated" id="lastUpdated">
        Last updated: <span id="timestamp" style="transition: opacity 0.3s ease;"></span>
    </div>
    
    
    
    
    
    <form method="post" action="<sm:getMainURL/>" name="CensitoList" >
<table style="width: 100%; text-align: center;"  >
    <tr>
        <td style="text-align: center; padding: 5px;" class="OrizTitoloH2O" >Censimento esercente</td>
    </tr>
    <tr>
        <td style="padding: 5px;" colspan="4"><br/></td>
    </tr>
</table>
<%
	if (exception != null) {
%>
<table style="border: 1px solid; border-collapse: collapse; border-spacing: 0px; padding: 5px; border-color: #CCCCCC; text-align: center;"     >
	<tr>
		<td style="height: 35px; text-align: center; padding: 5px;" class="titolotab"  ><img style="width: 25px; height: 22px; margin-left: 10px; margin-right: 10px; vertical-align: middle;"
			src="/img/h2o/triangolo.gif"   
			><br/> <%=exception.getMessage()%>
		</td>
	</tr>
	<tr>
		<td style="padding: 5px;" colspan="2"><br/>
		</td>
	</tr>
    <tr>
		<td style="text-align: center; padding: 5px;"   class="VertDxBassa">
			<sm:includeIfEventAllowed eventName="Indietro" eventDescription="Indietro">
				<input type="Button" name="<sm:getEventParamName/>" value="<sm:getEventParamValue/>" 
					style="cursor:hand" class="Bottone" onClick="JavaScript:CallAddress('<sm:getMainURL/>', '<sm:getEventParamName/>', '')">
			</sm:includeIfEventAllowed>
		</td>
	</tr>	
</table>
<%
	} else {
%>
<table style="width: 100%; text-align: center;"  >
	<tr>
		<td style="padding: 5px;" colspan="2" class="TitoloH2O">Ricerca esercenti censiti</td>
    </tr>
   	<tr>
		<td style="padding: 5px;" class="VertSxBassa">Ragione sociale</td>
		<td style="padding: 5px;" class="VertDxBassa">
			<input style="font-size: 50;" type="text"  maxlength="50" name="txtRagioneSociale" value="<%= (censitoFilter.getRagioneSociale() == null) ? "" : censitoFilter.getRagioneSociale() %>">
		</td>
	</tr>
   	<tr>
		<td style="padding: 5px;" class="VertSxBassa">Partita IVA</td>
		<td style="padding: 5px;" class="VertDxBassa">
			<input style="font-size: 11;" type="text"  maxlength="11" name="txtPartitaIva" value="<%= (censitoFilter.getPartitaIva() == null) ? "" : censitoFilter.getPartitaIva() %>">
		</td>
	</tr>      		
    <tr>
      	<td style="padding: 5px;" class="VertSxBassa">Data censimento tra il</td>
      	<td style="padding: 5px;" class="VertDxBassa">
      		<table>
      			<tr>
      				<td>
       					<input style="font-size: 13px;" type="text" onBlur="controlDay(this);" onKeyUp="changeFocusOffset (this, 2, 1);"  maxlength="2" name="txtDataCensDaD" value="<%= (censitoFilter.getDataCensimentoDa() == null) ? "" : Utils.SubstringNoExceedStringLenght(censitoFilter.getDataCensimentoDa(), 6, 8) %>">
        			</td>
     				<td>/</td>
					<td>
       					<input style="font-size: 13px;" type="text" onBlur="controlMonth(this);" onKeyUp="changeFocusOffset (this, 2, 1);"  maxlength="2" name="txtDataCensDaM" value="<%= (censitoFilter.getDataCensimentoDa() == null) ? "" : Utils.SubstringNoExceedStringLenght(censitoFilter.getDataCensimentoDa(), 4, 6) %>">
        			</td>
      				<td>/</td>
      				<td>
       					<input style="font-size: 18px;" type="text" onBlur="controlYear(this);" onKeyUp="changeFocusOffset (this, 4, 1);"  maxlength="4" name="txtDataCensDaY" value="<%= (censitoFilter.getDataCensimentoDa() == null) ? "" : Utils.SubstringNoExceedStringLenght(censitoFilter.getDataCensimentoDa(), 0, 4) %>">
        			</td>
        			<td style="padding: 5px;" class="VertSxBassa">&nbsp;&nbsp; e il &nbsp;&nbsp;</td>
        			<td>
       					<input style="font-size: 13px;" type="text" onBlur="controlDay(this);" onKeyUp="changeFocusOffset (this, 2, 1);"  maxlength="2" name="txtDataCensAD" value="<%= (censitoFilter.getDataCensimentoA() == null) ? "" : Utils.SubstringNoExceedStringLenght(censitoFilter.getDataCensimentoA(), 6, 8) %>">
        			</td>
     				<td>/</td>
					<td>
       					<input style="font-size: 13px;" type="text" onBlur="controlMonth(this);" onKeyUp="changeFocusOffset (this, 2, 1);"  maxlength="2" name="txtDataCensAM" value="<%= (censitoFilter.getDataCensimentoA() == null) ? "" : Utils.SubstringNoExceedStringLenght(censitoFilter.getDataCensimentoA(), 4, 6) %>">
        			</td>
      				<td>/</td>
      				<td>
       					<input style="font-size: 18px;" type="text" onBlur="controlYear(this);" onKeyUp="changeFocusOffset (this, 4, 1);"  maxlength="4" name="txtDataCensAY" value="<%= (censitoFilter.getDataCensimentoA() == null) ? "" : Utils.SubstringNoExceedStringLenght(censitoFilter.getDataCensimentoA(), 0, 4) %>">
        			</td>	
        		</tr>
        	</table>
      	</td>
    </tr>
    <tr>
      	<td style="padding: 5px;" class="VertSxBassa">Gruppo Commerciale</td>
      	<td style="padding: 5px;" class="VertDxBassa">
        	<select name="cmbIdGruppo">
        		<option value="" <%= (censitoFilter.getIdGruppo() == null) ? "selected" : "" %>>Qualsiasi</option>
				<% for (int i=0; i<lstAppartenenza.size(); i++ ) { %>
					<option value=<%=lstAppartenenza.get(i).getIdgruppo() %> <%= ((censitoFilter.getIdGruppo() != null) && (censitoFilter.getIdGruppo().equals(lstAppartenenza.get(i).getIdgruppo()))) ? "selected" : "" %>><%=lstAppartenenza.get(i).getDescrizione() %></option>
				<%} %>        		
        	</select>
      	</td>			    
    </tr>
   	<tr>
		<td style="padding: 5px;" class="VertSxBassa">Stato</td>
		<td style="padding: 5px;" class="VertDxBassa">
			<select name="cmbIsLavoratoSccQa">
        		<option value="" <%= (censitoFilter.getIsLavoratoSccQa() == null) ? "selected" : "" %>>Qualsiasi</option>
				<option value="0" <%= ((censitoFilter.getIsLavoratoSccQa() != null) && (censitoFilter.getIsLavoratoSccQa().equals(new Long("0")))) ? "selected" : "" %>>Da lavorare</option>
      			<option value="1" <%= ((censitoFilter.getIsLavoratoSccQa() != null) && (censitoFilter.getIsLavoratoSccQa().equals(new Long("1")))) ? "selected" : "" %>>Lavorato</option>
			</select>
		</td>
	</tr>	
</table>
<sm:includeIfEventAllowed eventName="Filter" eventDescription="Ricerca">
<table style="width: 100%; text-align: center;"  >
     <tr>
		<td style="text-align: center; padding: 5px;"  class="VertDxBassa">
			<input type="Button" name="<sm:getEventParamName/>" value="<sm:getEventParamValue/>" 
				style="cursor:hand" class="Bottone" onClick="JavaScript:ValidateForm('<sm:getMainURL/>', '<sm:getEventParamName/>', '')">
		</td>        		
     </tr>
</table>
</sm:includeIfEventAllowed>
<table style="text-align: center;" >
    <tr>
        <td style="padding: 5px;" colspan="31" >
            <br/>
        </td>
    </tr>
	<tr>
      	<td style="padding: 5px;" colspan="31" class="TitoloH2O">Elenco esercenti censiti</td>
    </tr>
	<%if (Utils.getEmptyString(errorMessage).equals("")) {%>    
		<tr style="text-align: center;" >
			<td style="padding: 5px;" class="VertSxAlta"><b>Operativit&agrave;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>Lavorato</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>AV PG</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>CAC PG</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>Rifiutato da CAC</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>AV Legale</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>CAC Legale</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>Acc. Socio</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>Urgente</b></td>			
			<td style="padding: 5px;" class="VertSxAlta"><b>Esid</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>Ragione sociale</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>Partita iva</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>Codice agente</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>B&B</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>Id soggetto</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>8 cifre</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>Id soggetto legale</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>8 cifre legale</b></td>	
			<td style="padding: 5px;" class="VertSxAlta"><b>Legale gi&agrave; collegato</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>Id Doc Legale</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>Data censimento</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>Data stipula</b></td>			
			<td style="padding: 5px;" class="VertSxAlta"><b>Barcode contratto</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>Barcode qa</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>Barcode easynolo</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>Barcode cartellino firma</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>Est. p.v.</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>Manual Entry</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>Qa Errato</b></td>
			<td style="padding: 5px;" class="VertSxAlta"><b>Gruppo Commerciale</b></td>
		</tr>
		<% for (int i=0; i<lstCensitoItemList.size(); i++) {
				CensitoItemList c = lstCensitoItemList.get(i); 
				AppEseAdeguataVerifica av = c.getAppEseAdeguataVerifica();
				%>
				
			<%if (c.getIsLavoratoSccQa().equals(new Long("0"))) {%>
				<tr>
			<%} else { %>
				<tr style="color: gray;">
			<%} %>
				<td style="padding: 5px;" class="VertDxBassa">
					
					<%if ((! Utils.getEmptyString(c.getEsidQa()).equals("")) && (c.getIsQaAgenteErrato().equals(new Long("0")))) {%>
						<sm:includeIfEventAllowed eventName="CensimentoQaCae">
							<a href="<sm:getEventMainURL/>&esidQuestAr=<%= c.getEsidQa() %>&eventNameIndietro=Indietro">Quest AR Cae</a><br/>
						</sm:includeIfEventAllowed>
					<% } else if (c.isNewQuestionario()) {%>
						<sm:includeIfEventAllowed eventName="QuestionarioAr">
							<a href="<sm:getEventMainURL/>&esid=<%= c.getEsid() %>&questionarioType=<%=c.getQuestionarioType() %>">Quest AR Cae</a><br/>
						</sm:includeIfEventAllowed>
					<%} else {%>
						Quest AR Cae<br/>
					<%} %>
		           
					<sm:includeIfEventAllowed eventName="CensimentoSccCae">
						<%if (! Utils.getEmptyString(c.getEsidScc()).equals("")) {%>
							<a href="<sm:getEventMainURL/>&esidScc=<%= c.getEsidScc() %>">Scheda Cliente Cae</a><br/>
						<%} else {%>
							Scheda Cliente Cae<br/>
						<%} %>					
		            </sm:includeIfEventAllowed>
					<sm:includeIfEventAllowed eventName="CRMAntiriciclaggio">
						<%if (c.getIdSoggetto() != null) {%>
							<a href="<sm:getEventMainURL/>&idSoggCRMAntiric=<%= c.getIdSoggetto() %>">Quest AR H2O</a><br/>
						<%} else {%>
							Quest AR H2O<br/>
						<%} %>					
		            </sm:includeIfEventAllowed>
					<sm:includeIfEventAllowed eventName="CRMQuestionario">
						<%if (c.getIdSoggetto() != null) {%>
							<a href="<sm:getEventMainURL/>&idSoggCRMQuest=<%= c.getIdSoggetto() %>">Scheda Cliente H2O</a><br/>
						<%} else {%>
							Scheda Cliente H2O<br/>
						<%} %>					
		            </sm:includeIfEventAllowed>
		            <%if (c.getIsLavoratoSccQa().equals(new Long("0"))) {%>		       
			            <%if (av.getIsAdeguataVerificaAzDaAbilitare()) {%>	            
							<sm:includeIfEventAllowed eventName="AdeguataVerificaAz">
					        	<a href="<sm:getEventMainURL/>&idCensitoListAdVeAz=<%= c.getId() %>">Accettazione Az</a><br>
					        </sm:includeIfEventAllowed>
					    <%} %>
						<sm:includeIfEventAllowed eventName="AdeguataVerificaPf">
							<a href="<sm:getEventMainURL/>&idCensitoListAdVePf=<%= c.getId() %>">Accettazione Pf</a><br>
				        </sm:includeIfEventAllowed>
						<%for (int j=0; j<av.getLstQaSocioAbilitato().size(); j++) {%>
							<sm:includeIfEventAllowed eventName="AdeguataVerificaPfSocio">
								<a href="<sm:getEventMainURL/>&idAdegVerPfSocio=<%= av.getLstQaSocioAbilitato().get(j).getId_soci_dett() %>&esidPosition=<%= c.getEsid() %>">Accettazione Socio <%=av.getLstQaSocioAbilitato().get(j).getCodice_fiscale() %></a><br>
					        </sm:includeIfEventAllowed>
						<%}%>
					<%} %>		
		            <%if ((Utils.getEmptyString(c.getIdGruppo()).equals("02") == false) 
		            		&& (Utils.getEmptyString(c.getIdGruppo()).equals("08") == false)) { %>
			            <a href="#" onclick="window.open('/H2O/CaeCensimento/CensimentoPrintPdf.jsp?esid=<%= c.getEsid() %>&tipoContratto=POS','','')">Visualizza Contr Pos</a><br>
			            <a href="#" onclick="window.open('/H2O/CaeCensimento/CensimentoPrintPdf.jsp?esid=<%= c.getEsid() %>&tipoContratto=QAR','','')">Visualizza Qar</a><br>
			            <a href="#" onclick="window.open('/H2O/CaeCensimento/CensimentoPrintPdf.jsp?esid=<%= c.getEsid() %>&tipoContratto=EASYNOLO','','')">Visualizza Contr EN</a><br>
					<%} %>					
		        </td>
				<%if (c.getIsLavoratoSccQa().equals(new Long("0"))) {%>
					<td style="padding: 5px;" class="VertDxBassa">
						<sm:includeIfEventAllowed eventName="CensitoListEditLavorato">
							<input type="checkbox" name="<%="chkLavoratoSccQa" + c.getId()%>" onclick="CallAddress('<sm:getMainURL/>', '<sm:getEventParamName/>', '&idCensitoList=<%= c.getId() %>')">
						</sm:includeIfEventAllowed>
					</td>
				<%} else { %>
					<td style="padding: 5px;" class="VertDxBassa">
						<sm:includeIfEventAllowed eventName="CensitoListEditLavorato">
							<input type="checkbox" name="<%="chkLavoratoSccQa" + c.getId()%>" checked="checked" disabled="disabled" onclick="CallAddress('<sm:getMainURL/>', '<sm:getEventParamName/>', '&idCensitoList=<%= c.getId() %>')">
						</sm:includeIfEventAllowed>
					</td>
				<%} %>
	           	<%if (av.getPraticaAccclAz() != null) {%>
	           		<td style="padding: 5px;" class="VertDxBassa"><%=av.getPraticaAccclAz().getStatoPratica()%></td>
				<%} else { %>
					<td style="padding: 5px;" class="VertDxBassa">&nbsp;</td>
	           	<%} %>
	           	<td style="padding: 5px;" class="VertDxBassa">
	           		<% List<IParere> lstIParereAz = HelperAcccl.getParereByPratica(av.getPraticaAccclAz()); 
					%>
	           		<%for (int j=0; j<lstIParereAz.size(); j++) { %>
	           			<%= lstIParereAz.get(j).getLivelloParere() %>:&nbsp;
	           			<%if (lstIParereAz.get(j).isAccettato()) {%>
	           				accettato
	           			<%} %>
	           			<br>
	           		<% } %>
	           	</td>
				<%if (av.getIsProdottoPosRifiutato()) {%>
					<td style="padding: 5px;" class="VertDxBassa">Si</td>
				<%} else { %>
					<td style="padding: 5px;" class="VertDxBassa">No</td>
				<%} %>			
	           	<%if (av.getPraticaAccclPf() != null) {%>
	           		<td style="padding: 5px;" class="VertDxBassa"><%=av.getPraticaAccclPf().getStatoPratica()%></td>
				<%} else { %>
					<td style="padding: 5px;" class="VertDxBassa">&nbsp;</td>
	           	<%} %>
	           	<td style="padding: 5px;" class="VertDxBassa">
	           		<% List<IParere> lstIParerePf = HelperAcccl.getParereByPratica(av.getPraticaAccclPf()); 
					%>
	           		<%for (int j=0; j<lstIParerePf.size(); j++) { %>
	           			<%= lstIParerePf.get(j).getLivelloParere() %>:&nbsp;
	           			<%if (lstIParerePf.get(j).isAccettato()) {%>
	           				accettato
	           			<%} %>
	           			<br>
	           		<% } %>
	           	</td>
	           	<td style="padding: 5px;" class="VertDxBassa"><table>
				<%for (int j=0; j<av.getLstQaSocioAbilitato().size(); j++) {%>
					<tr>
		           	<%if (av.getLstQaSocioAbilitato().get(j).getPraticaAccclPf() != null) {%>
		           		<td style="padding: 5px;" class="VertDxBassa">Socio <%=av.getLstQaSocioAbilitato().get(j).getCodice_fiscale()%> Stato: <%=av.getLstQaSocioAbilitato().get(j).getPraticaAccclPf().getStatoPratica()%></td>
					<%} else { %>
						<td style="padding: 5px;" class="VertDxBassa">Socio <%=av.getLstQaSocioAbilitato().get(j).getCodice_fiscale()%> Stato: </td>
		           	<%} %>
			           	<td style="padding: 5px;" class="VertDxBassa">
			           		<% List<IParere> lstIParerePfSocio = HelperAcccl.getParereByPratica(av.getLstQaSocioAbilitato().get(j).getPraticaAccclPf()); 
							%>
			           		<%for (int z=0; z<lstIParerePfSocio.size(); z++) { %>
			           			<%= lstIParerePfSocio.get(z).getLivelloParere() %>:&nbsp;
			           			<%if (lstIParerePfSocio.get(z).isAccettato()) {%>
			           				accettato
			           			<%} %>
			           			<br>
			           		<% } %>
			           	</td>
		           	</tr>
				<%}%>
				</table></td>
	           	<% if(c.getIsInstalUrgente().equals(new Long("1"))) {%>
	           		<td style="padding: 5px;" class="VertDxBassa">Si</td>
	           	<%} else { %>
	           		<td style="padding: 5px;" class="VertDxBassa">No</td>
	           	<%} %>				
				<td style="padding: 5px;" class="VertDxBassa"><%=c.getEsid()%></td>
				<td style="padding: 5px;" class="VertDxBassa"><%=c.getRagioneSociale()%></td>
				<td style="padding: 5px;" class="VertDxBassa"><%=c.getPartitaIva()%></td>
				<td style="padding: 5px;" class="VertDxBassa"><%=c.getCodiceAgente()%></td>
				<%if (c.getIsBedAndBreakfast().equals(Long.valueOf(0))) {%>
					<td style="padding: 5px;" class="VertDxBassa">No</td>
				<%} else { %>
					<td style="padding: 5px;" class="VertDxBassa">Si</td>
				<%} %>
				<td style="padding: 5px;" class="VertDxBassa"><%=c.getIdSoggetto()%></td>
				<td style="padding: 5px;" class="VertDxBassa"><%=c.getConto8cifre()%></td>
				<td style="padding: 5px;" class="VertDxBassa"><%=c.getIdSoggettoPf()%></td>
				<td style="padding: 5px;" class="VertDxBassa"><%=c.getConto8cifrePf()%></td>
				<%if (av.getIsIdSoggettPfCollegatoIdSoggettoAz()) {%>
					<td style="padding: 5px;" class="VertDxBassa">Si</td>
				<%} else { %>
					<td style="padding: 5px;" class="VertDxBassa">No</td>
				<%} %>
				<td style="padding: 5px;" class="VertDxBassa"><%=c.getId_doc_pf()%></td>					
				<td style="padding: 5px;" class="VertDxBassa"><%=c.getDataInserimento()%></td>
				<td style="padding: 5px;" class="VertDxBassa"><%=c.getDataFirma()%></td>
				<td style="padding: 5px;" class="VertDxBassa"><%=c.getBarcodeContratto()%></td>
				<td style="padding: 5px;" class="VertDxBassa"><%=c.getBarcodeQa()%></td>
				<td style="padding: 5px;" class="VertDxBassa"><%=c.getBarcodeContrattoEN()%></td>
				<td style="padding: 5px;" class="VertDxBassa"><%=c.getBarcodeCartellinoFirma()%></td>
				<%if (c.getIsExtPuntoVendita().equals(new Long("0"))) {%>
					<td style="padding: 5px;" class="VertDxBassa">No</td>
				<%} else { %>
					<td style="padding: 5px;" class="VertDxBassa">Si</td>
				<%} %>
				<%if ((c.getManualEntry() != null) && (c.getManualEntry().equals(new Long("1")))) { %>
					<td style="padding: 5px;" class="VertDxBassa">Si</td>
				<%} else { %>
					<td style="padding: 5px;" class="VertDxBassa">No</td>
				<%} %>				
				<%if (c.getIsQaAgenteErrato().equals(new Long("1"))) { %>
					<td style="padding: 5px;" class="VertDxBassa">Si</td>
				<%} else { %>
					<td style="padding: 5px;" class="VertDxBassa">&nbsp;</td>
				<%} %>	
				<td style="padding: 5px;" class="VertDxBassa"><%=c.getDescrizioneGruppo()%></td>
			</tr>
		<%} %>
	<%} else {%>
		<tr>
			<td style="height: 35px; text-align: center; padding: 5px;" colspan="23" class="titolotab"  >
				<img style="width: 25px; height: 22px; margin-left: 10px; margin-right: 10px; vertical-align: middle;" src="/img/h2o/triangolo.gif"   
					><br/><%=errorMessage %>
			</td>
		</tr>
	    <tr>
	        <td >
	            <br/>
	        </td>
	    </tr>	
	<%} %>
</table>
<table style="text-align: center;" >
    <tr>
        <td >
            <br/>
        </td>
    </tr>
    <tr>
		<td style="text-align: center; padding: 5px;"   class="VertDxBassa">
			<sm:includeIfEventAllowed eventName="Indietro" eventDescription="Indietro">
				<input type="Button" name="<sm:getEventParamName/>" value="<sm:getEventParamValue/>" 
					style="cursor:hand" class="Bottone" onClick="JavaScript:CallAddress('<sm:getMainURL/>', '<sm:getEventParamName/>', '')">
			</sm:includeIfEventAllowed>
		</td>
	</tr>
</table>
<%
}
%>
</form>





    <script>
        function updateTimestamp() {
            const now = new Date();
            const timestamp = now.toLocaleTimeString();
            document.getElementById('timestamp').textContent = timestamp;
        }
        
        // Update timestamp immediately
        updateTimestamp();
        
        // Browser Sync will inject its script here
        // This enables live reload functionality
        
        // Update timestamp periodically
        setInterval(updateTimestamp, 1000);
        
        // Visual feedback for updates
        function showUpdateAnimation() {
            const indicator = document.getElementById('lastUpdated');
            indicator.classList.add('updating');
            setTimeout(() => {
                indicator.classList.remove('updating');
                updateTimestamp();
            }, 500);
        }
        
        // Listen for Browser Sync events
        if (typeof __bs !== 'undefined') {
            __bs.socket.on('file:reload', showUpdateAnimation);
        }
    </script>
</body>
</html>
